plugins {
    id 'java'
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.13'
    id 'edu.sc.seis.launch4j' version '2.5.4'
}

configurations {
  testCompile
}

group 'fr.u-paris.informatique.cproj'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '5.9.0'
}

javafx {
    version = "17"
    modules = [ 'javafx.controls' , 'javafx.fxml', 'javafx.media']
}

sourceSets{
	main {
		java {
			srcDirs= ["src/main/java"]
		}
		resources{
			srcDirs= ["src/main/resources"]
		}
	}
}


launch4j {
    outfile = "SpacePong.exe"
    mainClassName = 'gui.Launcher'
    icon = "${projectDir}/src/main/resources/gui/title.png"
}

mainClassName = 'gui.Launcher'

jar {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    manifest {
    attributes "Main-Class": 'gui.Launcher'
    }
    from {
    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
  }
    archiveBaseName = '../../SpacePong'
}